"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/index";
exports.ids = ["pages/index"];
exports.modules = {

/***/ "./natsu/browser.ts":
/*!**************************!*\
  !*** ./natsu/browser.ts ***!
  \**************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"NatsuProvider\": () => (/* binding */ NatsuProvider),\n/* harmony export */   \"useMutation\": () => (/* binding */ useMutation),\n/* harmony export */   \"useNatsuClient\": () => (/* binding */ useNatsuClient),\n/* harmony export */   \"useQuery\": () => (/* binding */ useQuery),\n/* harmony export */   \"useSubscribe\": () => (/* binding */ useSubscribe)\n/* harmony export */ });\n/* harmony import */ var _silenteer_natsu_port_2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @silenteer/natsu-port-2 */ \"../../pkgs/natsu-port/index.ts\");\n/* harmony import */ var _silenteer_natsu_react_2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @silenteer/natsu-react-2 */ \"../../pkgs/natsu-react/index.tsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_silenteer_natsu_react_2__WEBPACK_IMPORTED_MODULE_1__]);\n_silenteer_natsu_react_2__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nconst { useQuery , useMutation , NatsuProvider , useNatsuClient , useSubscribe ,  } = (0,_silenteer_natsu_react_2__WEBPACK_IMPORTED_MODULE_1__.createNatsuProvider)({\n    natsuClient: (0,_silenteer_natsu_port_2__WEBPACK_IMPORTED_MODULE_0__.connect)({\n        serverURL: new URL(\"http://localhost:8000/port\")\n    }),\n    queryClientConfig: {\n        defaultOptions: {\n            queries: {\n                refetchOnWindowFocus: false\n            }\n        }\n    }\n});\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9uYXRzdS9icm93c2VyLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFDNkQ7QUFDRTtBQUkvRCxNQUFNLEVBQ0pFLFFBQVEsR0FDUkMsV0FBVyxHQUNYQyxhQUFhLEdBQ2JDLGNBQWMsR0FDZEMsWUFBWSxLQUNiLEdBQUdMLDZFQUFtQixDQUFjO0lBQ25DTSxXQUFXLEVBQUVQLGdFQUFPLENBQUM7UUFDbkJRLFNBQVMsRUFBRSxJQUFJQyxHQUFHLENBQUMsNEJBQTRCLENBQUM7S0FDakQsQ0FBQztJQUNGQyxpQkFBaUIsRUFBRTtRQUNqQkMsY0FBYyxFQUFFO1lBQ2RDLE9BQU8sRUFBRTtnQkFDUEMsb0JBQW9CLEVBQUUsS0FBSzthQUM1QjtTQUNGO0tBQ0Y7Q0FDRixDQUFDO0FBUUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9uYXRzdS9icm93c2VyLnRzPzUxMmUiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgeyBjb25uZWN0LCBjb25uZWN0V1MgfSBmcm9tICdAc2lsZW50ZWVyL25hdHN1LXBvcnQtMic7XG5pbXBvcnQgeyBjcmVhdGVOYXRzdVByb3ZpZGVyIH0gZnJvbSAnQHNpbGVudGVlci9uYXRzdS1yZWFjdC0yJztcblxuaW1wb3J0IHR5cGUgeyBSb3V0ZXMgfSBmcm9tICdiYXNpYy9zZXJ2ZXInO1xuXG5jb25zdCB7XG4gIHVzZVF1ZXJ5LFxuICB1c2VNdXRhdGlvbixcbiAgTmF0c3VQcm92aWRlcixcbiAgdXNlTmF0c3VDbGllbnQsXG4gIHVzZVN1YnNjcmliZSxcbn0gPSBjcmVhdGVOYXRzdVByb3ZpZGVyPFJvdXRlcywgYW55Pih7XG4gIG5hdHN1Q2xpZW50OiBjb25uZWN0KHtcbiAgICBzZXJ2ZXJVUkw6IG5ldyBVUkwoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9wb3J0JyksXG4gIH0pLFxuICBxdWVyeUNsaWVudENvbmZpZzoge1xuICAgIGRlZmF1bHRPcHRpb25zOiB7XG4gICAgICBxdWVyaWVzOiB7XG4gICAgICAgIHJlZmV0Y2hPbldpbmRvd0ZvY3VzOiBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgfVxufSk7XG5cbmV4cG9ydCB7XG4gIHVzZVF1ZXJ5LFxuICB1c2VNdXRhdGlvbixcbiAgTmF0c3VQcm92aWRlcixcbiAgdXNlTmF0c3VDbGllbnQsXG4gIHVzZVN1YnNjcmliZVxufTsiXSwibmFtZXMiOlsiY29ubmVjdCIsImNyZWF0ZU5hdHN1UHJvdmlkZXIiLCJ1c2VRdWVyeSIsInVzZU11dGF0aW9uIiwiTmF0c3VQcm92aWRlciIsInVzZU5hdHN1Q2xpZW50IiwidXNlU3Vic2NyaWJlIiwibmF0c3VDbGllbnQiLCJzZXJ2ZXJVUkwiLCJVUkwiLCJxdWVyeUNsaWVudENvbmZpZyIsImRlZmF1bHRPcHRpb25zIiwicXVlcmllcyIsInJlZmV0Y2hPbldpbmRvd0ZvY3VzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./natsu/browser.ts\n");

/***/ }),

/***/ "./pages/index.tsx":
/*!*************************!*\
  !*** ./pages/index.tsx ***!
  \*************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Home)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _natsu_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../natsu/browser */ \"./natsu/browser.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_natsu_browser__WEBPACK_IMPORTED_MODULE_1__]);\n_natsu_browser__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nfunction Home() {\n    const data = (0,_natsu_browser__WEBPACK_IMPORTED_MODULE_1__.useQuery)(\"math.plus\", {\n        left: \"1\",\n        right: \"2\"\n    });\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            children: JSON.stringify(data?.data)\n        }, void 0, false, {\n            fileName: \"/home/lagz0ne/natsu-2/examples/web/pages/index.tsx\",\n            lineNumber: 6,\n            columnNumber: 3\n        }, this)\n    }, void 0, false);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9pbmRleC50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQTJDO0FBRTVCLFNBQVNDLElBQUksR0FBRztJQUM5QixNQUFNQyxJQUFJLEdBQUdGLHdEQUFRLENBQUMsV0FBVyxFQUFFO1FBQUNHLElBQUksRUFBRSxHQUFHO1FBQUVDLEtBQUssRUFBRSxHQUFHO0tBQUMsQ0FBQztJQUMzRCxxQkFBTztrQkFDTiw0RUFBQ0MsS0FBRztzQkFBRUMsSUFBSSxDQUFDQyxTQUFTLENBQUNMLElBQUksRUFBRUEsSUFBSSxDQUFDOzs7OztnQkFBTztxQkFDckM7QUFDSixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4vcGFnZXMvaW5kZXgudHN4PzA3ZmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlUXVlcnkgfSBmcm9tIFwiLi4vbmF0c3UvYnJvd3NlclwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEhvbWUoKSB7XG5cdGNvbnN0IGRhdGEgPSB1c2VRdWVyeShcIm1hdGgucGx1c1wiLCB7bGVmdDogXCIxXCIsIHJpZ2h0OiBcIjJcIn0pXG5cdHJldHVybiA8PlxuXHRcdDxkaXY+e0pTT04uc3RyaW5naWZ5KGRhdGE/LmRhdGEpfTwvZGl2PlxuXHQ8Lz5cbn0iXSwibmFtZXMiOlsidXNlUXVlcnkiLCJIb21lIiwiZGF0YSIsImxlZnQiLCJyaWdodCIsImRpdiIsIkpTT04iLCJzdHJpbmdpZnkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/index.tsx\n");

/***/ }),

/***/ "../../pkgs/natsu-port/index.ts":
/*!**************************************!*\
  !*** ../../pkgs/natsu-port/index.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"NatsPortError\": () => (/* binding */ NatsPortError),\n/* harmony export */   \"connect\": () => (/* binding */ connect),\n/* harmony export */   \"connectWS\": () => (/* binding */ connectWS)\n/* harmony export */ });\n/* harmony import */ var _websocket_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./websocket-client */ \"../../pkgs/natsu-port/websocket-client.ts\");\n\nclass NatsPortError extends Error {\n    get code() {\n        return this._error?.code;\n    }\n    get body() {\n        return this._error?.body;\n    }\n    constructor(_error){\n        super(getErrorMessage(_error));\n        this._error = _error;\n    }\n}\nfunction connect(initialOptions) {\n    return async (subject, body, options)=>{\n        const requestBody = body !== undefined && body !== null ? {\n            data: body\n        } : {};\n        let abortController;\n        let result;\n        let timeoutId;\n        const { traceId , timeout =5000  } = options || {};\n        try {\n            abortController = new AbortController();\n            timeoutId = setTimeout(()=>{\n                abortController.abort();\n            }, timeout, []);\n            result = await fetch(initialOptions.serverURL.toString(), {\n                ...initialOptions,\n                method: \"POST\",\n                mode: \"cors\",\n                headers: {\n                    ...initialOptions.headers,\n                    ...traceId ? {\n                        \"trace-id\": traceId\n                    } : {},\n                    \"nats-subject\": subject,\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(requestBody),\n                signal: abortController?.signal\n            });\n        } catch (e) {\n            if (e.name === \"AbortError\") {\n                throw new Error(`Request aborted after ${timeout}`);\n            }\n            throw e;\n        } finally{\n            timeoutId && clearTimeout(timeoutId);\n        }\n        let response;\n        try {\n            response = await result.json();\n        } catch (e1) {\n            throw new Error(\"Response is not JSON\");\n        }\n        if (response.code === 200 || response.code === \"OK\") {\n            return response.body;\n        } else if ([\n            400,\n            401,\n            403,\n            404,\n            500\n        ].includes(response.code)) {\n            throw new NatsPortError(response);\n        } else {\n            throw new Error(\"Unknown response.\");\n        }\n    };\n}\nfunction connectWS(options) {\n    const subscriptions = {};\n    console.log(\"Connecting to websocket server\", {\n        options\n    });\n    let websocketClient = new _websocket_client__WEBPACK_IMPORTED_MODULE_0__.WebsocketClient(options.serverURL.toString());\n    websocketClient.onerror = (event)=>console.error(event);\n    const sendSub = async (subject, headers)=>{\n        await websocketClient?.send({\n            subject,\n            headers: {\n                ...options.headers,\n                ...headers\n            },\n            action: \"subscribe\"\n        });\n    };\n    const sendUnsub = (subject)=>{\n        websocketClient?.send({\n            subject,\n            headers: {\n                ...options.headers\n            },\n            action: \"unsubscribe\"\n        });\n    };\n    websocketClient.onreconnected = ()=>{\n        console.log(\"websocket connected/reconnected\");\n        const subjects = Object.keys(subscriptions);\n        subjects.forEach((subject)=>{\n            sendSub(subject, {\n                ...options.headers\n            });\n        });\n    };\n    websocketClient.onopen = websocketClient.onreconnected;\n    websocketClient.onmessage = (event)=>{\n        try {\n            const data = JSON.parse(event.data);\n            subscriptions[data.subject]?.forEach(({ onHandle  })=>{\n                try {\n                    onHandle(data);\n                } catch (error) {\n                    console.error(`Handle response failed`, data);\n                }\n            });\n        } catch (error) {\n            websocketClient?.onerror?.(error);\n        }\n    };\n    const unsubscribe = (params)=>{\n        const { subscriptionId , subject  } = params;\n        if (subscriptions[subject]?.some((item)=>item.subscriptionId === subscriptionId)) {\n            subscriptions[subject] = subscriptions[subject].filter((item)=>item.subscriptionId !== subscriptionId);\n            if (subscriptions[subject].length === 0) {\n                delete subscriptions[subject];\n                sendUnsub(subject);\n            }\n        }\n    };\n    const subscribe = async (subject, onHandle)=>{\n        const subscriptionId = getUUID();\n        if (!subscriptions[subject]) {\n            subscriptions[subject] = [];\n        }\n        subscriptions[subject].push({\n            subscriptionId,\n            onHandle\n        });\n        if (websocketClient && await websocketClient.getReadyState()) {\n            //OPEN\n            await sendSub(subject, {\n                ...options.headers\n            });\n        } // Otherwise, it'll do in onreconnected or onopen\n        return {\n            unsubscribe: ()=>unsubscribe({\n                    subscriptionId,\n                    subject\n                })\n        };\n    };\n    const close = ()=>{\n        websocketClient?.close();\n        websocketClient = undefined;\n    };\n    return {\n        subscribe,\n        close\n    };\n}\nfunction getUUID() {\n    let date = new Date().getTime();\n    const uuid = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, (char)=>{\n        const random = (date + Math.random() * 16) % 16 | 0;\n        date = Math.floor(date / 16);\n        return (char == \"x\" ? random : random & 0x3 | 0x8).toString(16);\n    });\n    return uuid;\n}\nfunction getErrorMessage(error) {\n    try {\n        return JSON.stringify(error, null, 2);\n    } catch (err) {\n        console.error(\"Request failed\", error);\n        return \"Request failed\";\n    }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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eC50cz8yZTY2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHtcbiAgTmF0c1NlcnZpY2UsXG4gIE5hdHNQb3J0UmVxdWVzdCxcbiAgTmF0c1BvcnRSZXNwb25zZSxcbiAgTmF0c1BvcnRFcnJvclJlc3BvbnNlLFxuICBOYXRzUG9ydFdTUmVzcG9uc2UsXG4gIE5hdHNQb3J0V1NFcnJvclJlc3BvbnNlLFxuICBOYXRzQ2hhbm5lbCxcbn0gZnJvbSAnQHNpbGVudGVlci9uYXRzdS10eXBlJztcbmltcG9ydCB7IFdlYnNvY2tldENsaWVudCB9IGZyb20gJy4vd2Vic29ja2V0LWNsaWVudCc7XG5cbnR5cGUgTmF0c1BvcnRPcHRpb25zID0ge1xuICBzZXJ2ZXJVUkw6IFVSTDtcbn0gJiBSZXF1ZXN0SW5pdDtcblxuY2xhc3MgTmF0c1BvcnRFcnJvciBleHRlbmRzIEVycm9yIGltcGxlbWVudHMgTmF0c1BvcnRFcnJvclJlc3BvbnNlIHtcbiAgZ2V0IGNvZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Vycm9yPy5jb2RlO1xuICB9XG4gIGdldCBib2R5KCkge1xuICAgIHJldHVybiB0aGlzLl9lcnJvcj8uYm9keTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgX2Vycm9yOiBOYXRzUG9ydEVycm9yUmVzcG9uc2UpIHtcbiAgICBzdXBlcihnZXRFcnJvck1lc3NhZ2UoX2Vycm9yKSk7XG4gIH1cbn1cblxudHlwZSBSZXF1ZXN0T3B0aW9ucyA9IHsgdHJhY2VJZD86IHN0cmluZzsgdGltZW91dD86IG51bWJlciB9O1xuXG50eXBlIENsaWVudDxBIGV4dGVuZHMgTmF0c1NlcnZpY2U8c3RyaW5nLCB1bmtub3duLCB1bmtub3duPj4gPSB7XG4gIDxCIGV4dGVuZHMgQT4oXG4gICAgc3ViamVjdDogQlsnc3ViamVjdCddLFxuICAgIGJvZHk6IEJbJ3JlcXVlc3QnXSxcbiAgICBvcHRpb25zPzogUmVxdWVzdE9wdGlvbnNcbiAgKTogUHJvbWlzZTxCWydyZXNwb25zZSddPjtcbn07XG5cbmZ1bmN0aW9uIGNvbm5lY3Q8QSBleHRlbmRzIE5hdHNTZXJ2aWNlPHN0cmluZywgdW5rbm93biwgdW5rbm93bj4+KFxuICBpbml0aWFsT3B0aW9uczogTmF0c1BvcnRPcHRpb25zXG4pOiBDbGllbnQ8QT4ge1xuICByZXR1cm4gYXN5bmMgKHN1YmplY3QsIGJvZHksIG9wdGlvbnM/OiBSZXF1ZXN0T3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IHJlcXVlc3RCb2R5OiBOYXRzUG9ydFJlcXVlc3Q8dW5rbm93bj4gPVxuICAgICAgYm9keSAhPT0gdW5kZWZpbmVkICYmIGJvZHkgIT09IG51bGxcbiAgICAgICAgPyB7XG4gICAgICAgICAgZGF0YTogYm9keSxcbiAgICAgICAgfVxuICAgICAgICA6IHt9O1xuXG4gICAgbGV0IGFib3J0Q29udHJvbGxlcjogQWJvcnRDb250cm9sbGVyO1xuICAgIGxldCByZXN1bHQ6IFJlc3BvbnNlO1xuICAgIGxldCB0aW1lb3V0SWQ6IG51bWJlcjtcbiAgICBjb25zdCB7IHRyYWNlSWQsIHRpbWVvdXQgPSA1MDAwIH0gPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgdHJ5IHtcbiAgICAgIGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICBhYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgdGltZW91dCxcbiAgICAgICAgW11cbiAgICAgICk7XG5cbiAgICAgIHJlc3VsdCA9IGF3YWl0IGZldGNoKGluaXRpYWxPcHRpb25zLnNlcnZlclVSTC50b1N0cmluZygpLCB7XG4gICAgICAgIC4uLmluaXRpYWxPcHRpb25zLFxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgbW9kZTogJ2NvcnMnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgLi4uaW5pdGlhbE9wdGlvbnMuaGVhZGVycyxcbiAgICAgICAgICAuLi4odHJhY2VJZCA/IHsgJ3RyYWNlLWlkJzogdHJhY2VJZCB9IDoge30pLFxuICAgICAgICAgICduYXRzLXN1YmplY3QnOiBzdWJqZWN0LFxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlcXVlc3RCb2R5KSxcbiAgICAgICAgc2lnbmFsOiBhYm9ydENvbnRyb2xsZXI/LnNpZ25hbCxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmIChlLm5hbWUgPT09ICdBYm9ydEVycm9yJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFJlcXVlc3QgYWJvcnRlZCBhZnRlciAke3RpbWVvdXR9YCk7XG4gICAgICB9XG4gICAgICB0aHJvdyBlO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0aW1lb3V0SWQgJiYgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgfVxuXG4gICAgbGV0IHJlc3BvbnNlOiBOYXRzUG9ydFJlc3BvbnNlPGFueT4gfCBOYXRzUG9ydEVycm9yUmVzcG9uc2U7XG5cbiAgICB0cnkge1xuICAgICAgcmVzcG9uc2UgPSBhd2FpdCByZXN1bHQuanNvbigpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUmVzcG9uc2UgaXMgbm90IEpTT04nKTtcbiAgICB9XG5cbiAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gMjAwIHx8IHJlc3BvbnNlLmNvZGUgYXMgdW5rbm93biBhcyBzdHJpbmcgPT09ICdPSycpIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5ib2R5O1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICAoXG4gICAgICAgIFs0MDAsIDQwMSwgNDAzLCA0MDQsIDUwMF0gYXMgQXJyYXk8TmF0c1BvcnRFcnJvclJlc3BvbnNlWydjb2RlJ10+XG4gICAgICApLmluY2x1ZGVzKHJlc3BvbnNlLmNvZGUpXG4gICAgKSB7XG4gICAgICB0aHJvdyBuZXcgTmF0c1BvcnRFcnJvcihyZXNwb25zZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biByZXNwb25zZS4nKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNvbm5lY3RXUzxBIGV4dGVuZHMgTmF0c0NoYW5uZWw8c3RyaW5nLCB1bmtub3duLCB1bmtub3duPj4oXG4gIG9wdGlvbnM6IE5hdHNQb3J0T3B0aW9uc1xuKTogTmF0c3VTb2NrZXQ8QT4ge1xuICBjb25zdCBzdWJzY3JpcHRpb25zOiB7XG4gICAgW3N1YmplY3Q6IHN0cmluZ106IEFycmF5PHtcbiAgICAgIHN1YnNjcmlwdGlvbklkOiBzdHJpbmc7XG4gICAgICBoZWFkZXJzPzoge1xuICAgICAgICBba2V5OiBzdHJpbmddOiB1bmtub3duO1xuICAgICAgfTtcbiAgICAgIG9uSGFuZGxlOiAoXG4gICAgICAgIHJlc3BvbnNlOiBOYXRzUG9ydFdTUmVzcG9uc2U8c3RyaW5nPiB8IE5hdHNQb3J0V1NFcnJvclJlc3BvbnNlPHN0cmluZz5cbiAgICAgICkgPT4gdm9pZDtcbiAgICB9PjtcbiAgfSA9IHt9O1xuXG4gIGNvbnNvbGUubG9nKFwiQ29ubmVjdGluZyB0byB3ZWJzb2NrZXQgc2VydmVyXCIsIHtcbiAgICBvcHRpb25zXG4gIH0pXG5cbiAgbGV0IHdlYnNvY2tldENsaWVudDogV2Vic29ja2V0Q2xpZW50IHwgdW5kZWZpbmVkID0gbmV3IFdlYnNvY2tldENsaWVudChvcHRpb25zLnNlcnZlclVSTC50b1N0cmluZygpKTtcblxuICB3ZWJzb2NrZXRDbGllbnQub25lcnJvciA9IChldmVudCkgPT4gY29uc29sZS5lcnJvcihldmVudCk7XG5cbiAgY29uc3Qgc2VuZFN1YiA9IGFzeW5jIChzdWJqZWN0OiBzdHJpbmcsIGhlYWRlcnM6IHt9KSA9PiB7XG4gICAgYXdhaXQgd2Vic29ja2V0Q2xpZW50Py5zZW5kKHtcbiAgICAgIHN1YmplY3QsXG4gICAgICBoZWFkZXJzOiB7IC4uLm9wdGlvbnMuaGVhZGVycywgLi4uaGVhZGVycyB9LFxuICAgICAgYWN0aW9uOiAnc3Vic2NyaWJlJyxcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBzZW5kVW5zdWIgPSAoc3ViamVjdDogc3RyaW5nKSA9PiB7XG4gICAgd2Vic29ja2V0Q2xpZW50Py5zZW5kKHtcbiAgICAgIHN1YmplY3QsXG4gICAgICBoZWFkZXJzOiB7IC4uLm9wdGlvbnMuaGVhZGVycyB9LFxuICAgICAgYWN0aW9uOiAndW5zdWJzY3JpYmUnLFxuICAgIH0pO1xuICB9O1xuXG4gIHdlYnNvY2tldENsaWVudC5vbnJlY29ubmVjdGVkID0gKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwid2Vic29ja2V0IGNvbm5lY3RlZC9yZWNvbm5lY3RlZFwiKVxuICAgIGNvbnN0IHN1YmplY3RzID0gT2JqZWN0LmtleXMoc3Vic2NyaXB0aW9ucyk7XG4gICAgc3ViamVjdHMuZm9yRWFjaCgoc3ViamVjdCkgPT4ge1xuICAgICAgc2VuZFN1YihzdWJqZWN0LCB7IC4uLm9wdGlvbnMuaGVhZGVycyB9KTtcbiAgICB9KTtcbiAgfTtcbiAgd2Vic29ja2V0Q2xpZW50Lm9ub3BlbiA9IHdlYnNvY2tldENsaWVudC5vbnJlY29ubmVjdGVkO1xuXG4gIHdlYnNvY2tldENsaWVudC5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSBhcyBzdHJpbmcpIGFzXG4gICAgICAgIHwgTmF0c1BvcnRXU1Jlc3BvbnNlPHN0cmluZz5cbiAgICAgICAgfCBOYXRzUG9ydFdTRXJyb3JSZXNwb25zZTxzdHJpbmc+O1xuICAgICAgc3Vic2NyaXB0aW9uc1tkYXRhLnN1YmplY3RdPy5mb3JFYWNoKCh7IG9uSGFuZGxlIH0pID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBvbkhhbmRsZShkYXRhKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGBIYW5kbGUgcmVzcG9uc2UgZmFpbGVkYCwgZGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB3ZWJzb2NrZXRDbGllbnQ/Lm9uZXJyb3I/LihlcnJvciBhcyBhbnkpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1bnN1YnNjcmliZSA9IDxcbiAgICBUU2VydmljZSBleHRlbmRzIE5hdHNDaGFubmVsPHN0cmluZywgdW5rbm93biwgdW5rbm93bj5cbiAgPihwYXJhbXM6IHtcbiAgICBzdWJzY3JpcHRpb25JZDogc3RyaW5nO1xuICAgIHN1YmplY3Q6IFRTZXJ2aWNlWydzdWJqZWN0J107XG4gIH0pID0+IHtcbiAgICBjb25zdCB7IHN1YnNjcmlwdGlvbklkLCBzdWJqZWN0IH0gPSBwYXJhbXM7XG5cbiAgICBpZiAoXG4gICAgICBzdWJzY3JpcHRpb25zW3N1YmplY3RdPy5zb21lKFxuICAgICAgICAoaXRlbSkgPT4gaXRlbS5zdWJzY3JpcHRpb25JZCA9PT0gc3Vic2NyaXB0aW9uSWRcbiAgICAgIClcbiAgICApIHtcbiAgICAgIHN1YnNjcmlwdGlvbnNbc3ViamVjdF0gPSBzdWJzY3JpcHRpb25zW3N1YmplY3RdLmZpbHRlcihcbiAgICAgICAgKGl0ZW0pID0+IGl0ZW0uc3Vic2NyaXB0aW9uSWQgIT09IHN1YnNjcmlwdGlvbklkXG4gICAgICApO1xuICAgICAgaWYgKHN1YnNjcmlwdGlvbnNbc3ViamVjdF0ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGRlbGV0ZSBzdWJzY3JpcHRpb25zW3N1YmplY3RdO1xuICAgICAgICBzZW5kVW5zdWIoc3ViamVjdCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHN1YnNjcmliZTogU3Vic2NyaWJlPEE+ID0gYXN5bmMgKHN1YmplY3QsIG9uSGFuZGxlKSA9PiB7XG4gICAgY29uc3Qgc3Vic2NyaXB0aW9uSWQgPSBnZXRVVUlEKCk7XG5cbiAgICBpZiAoIXN1YnNjcmlwdGlvbnNbc3ViamVjdF0pIHtcbiAgICAgIHN1YnNjcmlwdGlvbnNbc3ViamVjdF0gPSBbXTtcbiAgICB9XG4gICAgc3Vic2NyaXB0aW9uc1tzdWJqZWN0XS5wdXNoKHsgc3Vic2NyaXB0aW9uSWQsIG9uSGFuZGxlIH0pO1xuXG4gICAgaWYgKHdlYnNvY2tldENsaWVudCAmJiBhd2FpdCB3ZWJzb2NrZXRDbGllbnQuZ2V0UmVhZHlTdGF0ZSgpKSB7XG4gICAgICAvL09QRU5cbiAgICAgIGF3YWl0IHNlbmRTdWIoc3ViamVjdCwgeyAuLi5vcHRpb25zLmhlYWRlcnMgfSk7XG4gICAgfSAvLyBPdGhlcndpc2UsIGl0J2xsIGRvIGluIG9ucmVjb25uZWN0ZWQgb3Igb25vcGVuXG5cbiAgICByZXR1cm4geyB1bnN1YnNjcmliZTogKCkgPT4gdW5zdWJzY3JpYmUoeyBzdWJzY3JpcHRpb25JZCwgc3ViamVjdCB9KSB9O1xuICB9O1xuXG4gIGNvbnN0IGNsb3NlID0gKCkgPT4ge1xuICAgIHdlYnNvY2tldENsaWVudD8uY2xvc2UoKTtcbiAgICB3ZWJzb2NrZXRDbGllbnQgPSB1bmRlZmluZWQ7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBzdWJzY3JpYmUsXG4gICAgY2xvc2UsXG4gIH07XG59XG5cbnR5cGUgU3Vic2NyaWJlPEEgZXh0ZW5kcyBOYXRzQ2hhbm5lbDxzdHJpbmcsIHVua25vd24sIHVua25vd24+PiA9IHtcbiAgPEIgZXh0ZW5kcyBBWydzdWJqZWN0J10+KFxuICAgIHN1YmplY3Q6IEIsXG4gICAgb25IYW5kbGU6IChcbiAgICAgIHJlc3BvbnNlOiBOYXRzUG9ydFdTUmVzcG9uc2U8XG4gICAgICAgIEV4dHJhY3Q8QSwgeyBzdWJqZWN0OiBCIH0+WydzdWJqZWN0J10sXG4gICAgICAgIEV4dHJhY3Q8QSwgeyBzdWJqZWN0OiBCIH0+WydyZXNwb25zZSddXG4gICAgICA+XG4gICAgKSA9PiBQcm9taXNlPHZvaWQ+LFxuICAgIG9wdGlvbnM/OiBSZXF1ZXN0T3B0aW9uc1xuICApOiBQcm9taXNlPHsgdW5zdWJzY3JpYmU6ICgpID0+IHZvaWQgfT47XG59O1xuXG50eXBlIE5hdHN1U29ja2V0PEEgZXh0ZW5kcyBOYXRzQ2hhbm5lbDxzdHJpbmcsIHVua25vd24sIHVua25vd24+PiA9IHtcbiAgc3Vic2NyaWJlOiBTdWJzY3JpYmU8QT47XG4gIGNsb3NlOiAoKSA9PiB2b2lkO1xufTtcblxuZnVuY3Rpb24gZ2V0VVVJRCgpOiBzdHJpbmcge1xuICBsZXQgZGF0ZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICBjb25zdCB1dWlkID0gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZShcbiAgICAvW3h5XS9nLFxuICAgIChjaGFyKSA9PiB7XG4gICAgICBjb25zdCByYW5kb20gPSAoZGF0ZSArIE1hdGgucmFuZG9tKCkgKiAxNikgJSAxNiB8IDA7XG4gICAgICBkYXRlID0gTWF0aC5mbG9vcihkYXRlIC8gMTYpO1xuICAgICAgcmV0dXJuIChjaGFyID09ICd4JyA/IHJhbmRvbSA6IChyYW5kb20gJiAweDMpIHwgMHg4KS50b1N0cmluZygxNik7XG4gICAgfVxuICApO1xuICByZXR1cm4gdXVpZDtcbn1cblxuZnVuY3Rpb24gZ2V0RXJyb3JNZXNzYWdlKGVycm9yOiBOYXRzUG9ydEVycm9yUmVzcG9uc2UpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZXJyb3IsIG51bGwsIDIpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKCdSZXF1ZXN0IGZhaWxlZCcsIGVycm9yKTtcbiAgICByZXR1cm4gJ1JlcXVlc3QgZmFpbGVkJztcbiAgfVxufVxuXG5leHBvcnQgdHlwZSB7IE5hdHNQb3J0T3B0aW9ucywgQ2xpZW50LCBTdWJzY3JpYmUsIE5hdHN1U29ja2V0IH07XG5leHBvcnQgeyBjb25uZWN0LCBjb25uZWN0V1MsIE5hdHNQb3J0RXJyb3IgfTtcbiJdLCJuYW1lcyI6WyJXZWJzb2NrZXRDbGllbnQiLCJOYXRzUG9ydEVycm9yIiwiRXJyb3IiLCJjb2RlIiwiX2Vycm9yIiwiYm9keSIsImNvbnN0cnVjdG9yIiwiZ2V0RXJyb3JNZXNzYWdlIiwiY29ubmVjdCIsImluaXRpYWxPcHRpb25zIiwic3ViamVjdCIsIm9wdGlvbnMiLCJyZXF1ZXN0Qm9keSIsInVuZGVmaW5lZCIsImRhdGEiLCJhYm9ydENvbnRyb2xsZXIiLCJyZXN1bHQiLCJ0aW1lb3V0SWQiLCJ0cmFjZUlkIiwidGltZW91dCIsIkFib3J0Q29udHJvbGxlciIsInNldFRpbWVvdXQiLCJhYm9ydCIsImZldGNoIiwic2VydmVyVVJMIiwidG9TdHJpbmciLCJtZXRob2QiLCJtb2RlIiwiaGVhZGVycyIsIkpTT04iLCJzdHJpbmdpZnkiLCJzaWduYWwiLCJlIiwibmFtZSIsImNsZWFyVGltZW91dCIsInJlc3BvbnNlIiwianNvbiIsImluY2x1ZGVzIiwiY29ubmVjdFdTIiwic3Vic2NyaXB0aW9ucyIsImNvbnNvbGUiLCJsb2ciLCJ3ZWJzb2NrZXRDbGllbnQiLCJvbmVycm9yIiwiZXZlbnQiLCJlcnJvciIsInNlbmRTdWIiLCJzZW5kIiwiYWN0aW9uIiwic2VuZFVuc3ViIiwib25yZWNvbm5lY3RlZCIsInN1YmplY3RzIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJvbm9wZW4iLCJvbm1lc3NhZ2UiLCJwYXJzZSIsIm9uSGFuZGxlIiwidW5zdWJzY3JpYmUiLCJwYXJhbXMiLCJzdWJzY3JpcHRpb25JZCIsInNvbWUiLCJpdGVtIiwiZmlsdGVyIiwibGVuZ3RoIiwic3Vic2NyaWJlIiwiZ2V0VVVJRCIsInB1c2giLCJnZXRSZWFkeVN0YXRlIiwiY2xvc2UiLCJkYXRlIiwiRGF0ZSIsImdldFRpbWUiLCJ1dWlkIiwicmVwbGFjZSIsImNoYXIiLCJyYW5kb20iLCJNYXRoIiwiZmxvb3IiLCJlcnIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../pkgs/natsu-port/index.ts\n");

/***/ }),

/***/ "../../pkgs/natsu-port/websocket-client.ts":
/*!*************************************************!*\
  !*** ../../pkgs/natsu-port/websocket-client.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"WebsocketClient\": () => (/* binding */ WebsocketClient)\n/* harmony export */ });\n/* harmony import */ var isomorphic_ws__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! isomorphic-ws */ \"isomorphic-ws\");\n/* harmony import */ var isomorphic_ws__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(isomorphic_ws__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MAX_RETRY_TIMES = 3;\nconst RETRY_INTERVAL = 5 * 1000;\nconst waitForOpenConnection = (socket)=>{\n    return new Promise((resolve, reject)=>{\n        const maxNumberOfAttempts = 10;\n        let currentAttempt = 1;\n        const interval = setInterval(()=>{\n            if (currentAttempt > maxNumberOfAttempts) {\n                clearInterval(interval);\n                reject(new Error(\"Maximum number of attempts exceeded\"));\n            } else if (socket.readyState === socket.OPEN) {\n                clearInterval(interval);\n                resolve((isomorphic_ws__WEBPACK_IMPORTED_MODULE_0___default().OPEN));\n            }\n            currentAttempt++;\n        }, 1000);\n    });\n};\nclass WebsocketClient {\n    _webSocketReconnecting = false;\n    _retriedTimes = 0;\n    _forceQuit = false;\n    constructor(url){\n        this._url = url;\n        this._webSocket = new (isomorphic_ws__WEBPACK_IMPORTED_MODULE_0___default())(this._url);\n        this._open();\n    }\n    async getReadyState() {\n        return new Promise((resolve, reject)=>{\n            let checker = setInterval(()=>{\n                if (this._webSocket.readyState === (isomorphic_ws__WEBPACK_IMPORTED_MODULE_0___default().OPEN)) {\n                    clearInterval(checker);\n                    resolve(this._webSocket.readyState);\n                }\n            }, 100);\n        });\n    }\n    async send(data) {\n        try {\n            await waitForOpenConnection(this._webSocket);\n            this._webSocket.send(JSON.stringify(data));\n        } catch (error) {\n            console.error(`[WebSocket] Error`, error);\n            this.onerror?.(error);\n        }\n    }\n    close() {\n        this._forceQuit = true;\n        this._webSocket.close();\n    }\n    _open() {\n        console.log(\"Try to open websocket\");\n        this._webSocket.onopen = (event)=>{\n            this._retriedTimes = 0;\n            if (this._webSocketReconnecting) {\n                this._webSocketReconnecting = false;\n                console.log(`[WebSocket] Reconnected ${this._url}`);\n                this.onreconnected?.(event);\n            } else {\n                console.log(`[WebSocket] Opened ${this._url}`);\n                this.onopen?.(event);\n            }\n        };\n        this._webSocket.onmessage = (event)=>{\n            this.onmessage?.(event);\n        };\n        this._webSocket.onclose = (event)=>{\n            this._cleanUp();\n            switch(event.code){\n                case 401:\n                case 403:\n                    console.log(`[WebSocket] Closed ${this._url}`, event);\n                    this.onclose?.(event);\n                    break;\n                default:\n                    if (this._forceQuit) {\n                        console.log(`[WebSocket] Closed ${this._url}. Reconnect option is false`, event);\n                        this.onclose?.(event);\n                        break;\n                    }\n                    this._retriedTimes++;\n                    if (this._retriedTimes > MAX_RETRY_TIMES) {\n                        console.log(`[WebSocket] Closed ${this._url}. Cannot reconnect after ${MAX_RETRY_TIMES} retries`, event);\n                        this.onclose?.(event);\n                        break;\n                    }\n                    console.log(`[WebSocket] Will try to reconnect to ${this._url} after ${RETRY_INTERVAL / 1000} seconds. Attempts ${this._retriedTimes} / ${MAX_RETRY_TIMES}`, event);\n                    this._reconnectTimeout = setTimeout(()=>{\n                        console.log(`[WebSocket] Trying to reconnect to ${this._url}`);\n                        this._webSocketReconnecting = true;\n                        this._open();\n                    }, RETRY_INTERVAL);\n                    break;\n            }\n        };\n        this._webSocket.onerror = (event)=>{\n            console.error(`[WebSocket] Error`, event);\n            this.onerror?.(event);\n        };\n    }\n    _cleanUp() {\n        this._reconnectTimeout && clearTimeout(this._reconnectTimeout);\n        this._reconnectTimeout = undefined;\n    }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vcGtncy9uYXRzdS1wb3J0L3dlYnNvY2tldC1jbGllbnQudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBTXFDO0FBRXJDLE1BQU1DLGVBQWUsR0FBRyxDQUFDO0FBQ3pCLE1BQU1DLGNBQWMsR0FBRyxDQUFDLEdBQUcsSUFBSTtBQUUvQixNQUFNQyxxQkFBcUIsR0FBRyxDQUFDQyxNQUFpQixHQUFLO0lBQ25ELE9BQU8sSUFBSUMsT0FBTyxDQUFDLENBQUNDLE9BQU8sRUFBRUMsTUFBTSxHQUFLO1FBQ3RDLE1BQU1DLG1CQUFtQixHQUFHLEVBQUU7UUFFOUIsSUFBSUMsY0FBYyxHQUFHLENBQUM7UUFDdEIsTUFBTUMsUUFBUSxHQUFHQyxXQUFXLENBQUMsSUFBTTtZQUNqQyxJQUFJRixjQUFjLEdBQUdELG1CQUFtQixFQUFFO2dCQUN4Q0ksYUFBYSxDQUFDRixRQUFRLENBQUMsQ0FBQztnQkFDeEJILE1BQU0sQ0FBQyxJQUFJTSxLQUFLLENBQUMscUNBQXFDLENBQUMsQ0FBQyxDQUFDO1lBQzNELE9BQU8sSUFBSVQsTUFBTSxDQUFDVSxVQUFVLEtBQUtWLE1BQU0sQ0FBQ1csSUFBSSxFQUFFO2dCQUM1Q0gsYUFBYSxDQUFDRixRQUFRLENBQUMsQ0FBQztnQkFDeEJKLE9BQU8sQ0FBQ04sMkRBQWMsQ0FBQyxDQUFDO1lBQzFCLENBQUM7WUFDRFMsY0FBYyxFQUFFLENBQUM7UUFDbkIsQ0FBQyxFQUFFLElBQUksQ0FBQztJQUNWLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQztBQUlELE1BQU1PLGVBQWU7SUFHbkIsc0JBQThCLEdBQUcsS0FBSyxDQUFDO0lBQ3ZDLGFBQXFCLEdBQUcsQ0FBQyxDQUFDO0lBRTFCLFVBQWtCLEdBQUcsS0FBSyxDQUFDO0lBWTNCSSxZQUFZQyxHQUFXLENBQUU7UUFDdkIsSUFBSSxDQUFDQyxJQUFJLEdBQUdELEdBQUcsQ0FBQztRQUNoQixJQUFJLENBQUNFLFVBQVUsR0FBRyxJQUFJdkIsc0RBQVMsQ0FBQyxJQUFJLENBQUNz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QUNELEtBQUssQ0FBQyxDQUFDLGlCQUFpQixDQUFDLEVBQUVNLEtBQUssQ0FBQyxDQUFDO1lBQzFDLElBQUksQ0FBQ0osT0FBTyxHQUFHSSxLQUFLLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUM7SUFDSjtJQUVRSSxRQUFRLEdBQUc7UUFDakIsSUFBSSxDQUFDRSxpQkFBaUIsSUFBSUUsWUFBWSxDQUFDLElBQUksQ0FBQ0YsaUJBQWlCLENBQUMsQ0FBQztRQUMvRCxJQUFJLENBQUNBLGlCQUFpQixHQUFHRyxTQUFTLENBQUM7SUFDckM7Q0FDRDtBQUcwQiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uLi8uLi9wa2dzL25hdHN1LXBvcnQvd2Vic29ja2V0LWNsaWVudC50cz85OTJhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHtcbiAgTmF0c1BvcnRXU1JlcXVlc3QsXG4gIE5hdHNQb3J0V1NSZXNwb25zZSxcbiAgTmF0c1BvcnRXU0Vycm9yUmVzcG9uc2UsXG59IGZyb20gJ0BzaWxlbnRlZXIvbmF0c3UtdHlwZSc7XG5cbmltcG9ydCBXZWJTb2NrZXQgZnJvbSBcImlzb21vcnBoaWMtd3NcIlxuXG5jb25zdCBNQVhfUkVUUllfVElNRVMgPSAzO1xuY29uc3QgUkVUUllfSU5URVJWQUwgPSA1ICogMTAwMDtcblxuY29uc3Qgd2FpdEZvck9wZW5Db25uZWN0aW9uID0gKHNvY2tldDogV2ViU29ja2V0KSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgbWF4TnVtYmVyT2ZBdHRlbXB0cyA9IDEwO1xuXG4gICAgbGV0IGN1cnJlbnRBdHRlbXB0ID0gMTtcbiAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGlmIChjdXJyZW50QXR0ZW1wdCA+IG1heE51bWJlck9mQXR0ZW1wdHMpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ01heGltdW0gbnVtYmVyIG9mIGF0dGVtcHRzIGV4Y2VlZGVkJykpO1xuICAgICAgfSBlbHNlIGlmIChzb2NrZXQucmVhZHlTdGF0ZSA9PT0gc29ja2V0Lk9QRU4pIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgIHJlc29sdmUoV2ViU29ja2V0Lk9QRU4pO1xuICAgICAgfVxuICAgICAgY3VycmVudEF0dGVtcHQrKztcbiAgICB9LCAxMDAwKTtcbiAgfSk7XG59O1xuXG50eXBlIEV2ZW50SGFuZGxlcjxFPiA9IChldmVudDogRSkgPT4gdm9pZFxuXG5jbGFzcyBXZWJzb2NrZXRDbGllbnQge1xuICBwcml2YXRlIF91cmw6IHN0cmluZztcbiAgcHJpdmF0ZSBfd2ViU29ja2V0OiBXZWJTb2NrZXQ7XG4gIHByaXZhdGUgX3dlYlNvY2tldFJlY29ubmVjdGluZyA9IGZhbHNlO1xuICBwcml2YXRlIF9yZXRyaWVkVGltZXMgPSAwO1xuICBwcml2YXRlIF9yZWNvbm5lY3RUaW1lb3V0OiBOb2RlSlMuVGltZW91dCB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBfZm9yY2VRdWl0ID0gZmFsc2U7XG5cbiAgb25vcGVuPzogRXZlbnRIYW5kbGVyPFdlYlNvY2tldC5FdmVudD5cblxuICBvbm1lc3NhZ2U/OiBFdmVudEhhbmRsZXI8V2ViU29ja2V0Lk1lc3NhZ2VFdmVudD5cbiAgXG4gIG9uY2xvc2U/OiBFdmVudEhhbmRsZXI8V2ViU29ja2V0LkNsb3NlRXZlbnQ+XG4gIFxuICBvbmVycm9yPzogRXZlbnRIYW5kbGVyPFdlYlNvY2tldC5FcnJvckV2ZW50PlxuXG4gIG9ucmVjb25uZWN0ZWQ/OiBFdmVudEhhbmRsZXI8V2ViU29ja2V0LkV2ZW50PlxuXG4gIGNvbnN0cnVjdG9yKHVybDogc3RyaW5nKSB7XG4gICAgdGhpcy5fdXJsID0gdXJsO1xuICAgIHRoaXMuX3dlYlNvY2tldCA9IG5ldyBXZWJTb2NrZXQodGhpcy5fdXJsKTtcbiAgICB0aGlzLl9vcGVuKCk7XG4gIH1cblxuICBhc3luYyBnZXRSZWFkeVN0YXRlKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgY2hlY2tlciA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuX3dlYlNvY2tldC5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoY2hlY2tlcilcbiAgICAgICAgICByZXNvbHZlKHRoaXMuX3dlYlNvY2tldC5yZWFkeVN0YXRlKVxuICAgICAgICB9XG4gICAgICB9LCAxMDApXG4gICAgfSlcbiAgfVxuXG4gIGFzeW5jIHNlbmQoZGF0YTogTmF0c1BvcnRXU1JlcXVlc3Q8c3RyaW5nPikge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB3YWl0Rm9yT3BlbkNvbm5lY3Rpb24odGhpcy5fd2ViU29ja2V0KTtcbiAgICAgIHRoaXMuX3dlYlNvY2tldC5zZW5kKEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgW1dlYlNvY2tldF0gRXJyb3JgLCBlcnJvcik7XG4gICAgICB0aGlzLm9uZXJyb3I/LihlcnJvciBhcyBhbnkpO1xuICAgIH1cbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX2ZvcmNlUXVpdCA9IHRydWU7XG4gICAgdGhpcy5fd2ViU29ja2V0LmNsb3NlKCk7XG4gIH1cblxuICBwcml2YXRlIF9vcGVuKCkge1xuICAgIGNvbnNvbGUubG9nKFwiVHJ5IHRvIG9wZW4gd2Vic29ja2V0XCIpXG4gICAgdGhpcy5fd2ViU29ja2V0Lm9ub3BlbiA9IChldmVudDogV2ViU29ja2V0LkV2ZW50KSA9PiB7XG4gICAgICB0aGlzLl9yZXRyaWVkVGltZXMgPSAwO1xuXG4gICAgICBpZiAodGhpcy5fd2ViU29ja2V0UmVjb25uZWN0aW5nKSB7XG4gICAgICAgIHRoaXMuX3dlYlNvY2tldFJlY29ubmVjdGluZyA9IGZhbHNlO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGBbV2ViU29ja2V0XSBSZWNvbm5lY3RlZCAke3RoaXMuX3VybH1gKTtcbiAgICAgICAgdGhpcy5vbnJlY29ubmVjdGVkPy4oZXZlbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coYFtXZWJTb2NrZXRdIE9wZW5lZCAke3RoaXMuX3VybH1gKTtcbiAgICAgICAgdGhpcy5vbm9wZW4/LihldmVudCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuX3dlYlNvY2tldC5vbm1lc3NhZ2UgPSAoZXZlbnQ6IFdlYlNvY2tldC5NZXNzYWdlRXZlbnQpID0+IHtcbiAgICAgIHRoaXMub25tZXNzYWdlPy4oZXZlbnQpO1xuICAgIH07XG5cbiAgICB0aGlzLl93ZWJTb2NrZXQub25jbG9zZSA9IChldmVudDogV2ViU29ja2V0LkNsb3NlRXZlbnQpID0+IHtcbiAgICAgIHRoaXMuX2NsZWFuVXAoKTtcbiAgICAgIHN3aXRjaCAoZXZlbnQuY29kZSkge1xuICAgICAgICBjYXNlIDQwMTpcbiAgICAgICAgY2FzZSA0MDM6XG4gICAgICAgICAgY29uc29sZS5sb2coYFtXZWJTb2NrZXRdIENsb3NlZCAke3RoaXMuX3VybH1gLCBldmVudCk7XG4gICAgICAgICAgdGhpcy5vbmNsb3NlPy4oZXZlbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmICh0aGlzLl9mb3JjZVF1aXQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICBgW1dlYlNvY2tldF0gQ2xvc2VkICR7dGhpcy5fdXJsfS4gUmVjb25uZWN0IG9wdGlvbiBpcyBmYWxzZWAsXG4gICAgICAgICAgICAgIGV2ZW50XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy5vbmNsb3NlPy4oZXZlbnQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5fcmV0cmllZFRpbWVzKys7XG4gICAgICAgICAgaWYgKHRoaXMuX3JldHJpZWRUaW1lcyA+IE1BWF9SRVRSWV9USU1FUykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgIGBbV2ViU29ja2V0XSBDbG9zZWQgJHt0aGlzLl91cmx9LiBDYW5ub3QgcmVjb25uZWN0IGFmdGVyICR7TUFYX1JFVFJZX1RJTUVTfSByZXRyaWVzYCxcbiAgICAgICAgICAgICAgZXZlbnRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLm9uY2xvc2U/LihldmVudCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgIGBbV2ViU29ja2V0XSBXaWxsIHRyeSB0byByZWNvbm5lY3QgdG8gJHt0aGlzLl91cmx9IGFmdGVyICR7XG4gICAgICAgICAgICAgIFJFVFJZX0lOVEVSVkFMIC8gMTAwMFxuICAgICAgICAgICAgfSBzZWNvbmRzLiBBdHRlbXB0cyAke3RoaXMuX3JldHJpZWRUaW1lc30gLyAke01BWF9SRVRSWV9USU1FU31gLFxuICAgICAgICAgICAgZXZlbnRcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMuX3JlY29ubmVjdFRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbV2ViU29ja2V0XSBUcnlpbmcgdG8gcmVjb25uZWN0IHRvICR7dGhpcy5fdXJsfWApO1xuICAgICAgICAgICAgdGhpcy5fd2ViU29ja2V0UmVjb25uZWN0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX29wZW4oKTtcbiAgICAgICAgICB9LCBSRVRSWV9JTlRFUlZBTCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuX3dlYlNvY2tldC5vbmVycm9yID0gKGV2ZW50OiBXZWJTb2NrZXQuRXJyb3JFdmVudCkgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihgW1dlYlNvY2tldF0gRXJyb3JgLCBldmVudCk7XG4gICAgICB0aGlzLm9uZXJyb3I/LihldmVudCk7XG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgX2NsZWFuVXAoKSB7XG4gICAgdGhpcy5fcmVjb25uZWN0VGltZW91dCAmJiBjbGVhclRpbWVvdXQodGhpcy5fcmVjb25uZWN0VGltZW91dCk7XG4gICAgdGhpcy5fcmVjb25uZWN0VGltZW91dCA9IHVuZGVmaW5lZDtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSB7IE5hdHNQb3J0V1NSZXNwb25zZSwgTmF0c1BvcnRXU0Vycm9yUmVzcG9uc2UgfTtcbmV4cG9ydCB7IFdlYnNvY2tldENsaWVudCB9O1xuIl0sIm5hbWVzIjpbIldlYlNvY2tldCIsIk1BWF9SRVRSWV9USU1FUyIsIlJFVFJZX0lOVEVSVkFMIiwid2FpdEZvck9wZW5Db25uZWN0aW9uIiwic29ja2V0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJtYXhOdW1iZXJPZkF0dGVtcHRzIiwiY3VycmVudEF0dGVtcHQiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsIkVycm9yIiwicmVhZHlTdGF0ZSIsIk9QRU4iLCJXZWJzb2NrZXRDbGllbnQiLCJfd2ViU29ja2V0UmVjb25uZWN0aW5nIiwiX3JldHJpZWRUaW1lcyIsIl9mb3JjZVF1aXQiLCJjb25zdHJ1Y3RvciIsInVybCIsIl91cmwiLCJfd2ViU29ja2V0IiwiX29wZW4iLCJnZXRSZWFkeVN0YXRlIiwiY2hlY2tlciIsInNlbmQiLCJkYXRhIiwiSlNPTiIsInN0cmluZ2lmeSIsImVycm9yIiwiY29uc29sZSIsIm9uZXJyb3IiLCJjbG9zZSIsImxvZyIsIm9ub3BlbiIsImV2ZW50Iiwib25yZWNvbm5lY3RlZCIsIm9ubWVzc2FnZSIsIm9uY2xvc2UiLCJfY2xlYW5VcCIsImNvZGUiLCJfcmVjb25uZWN0VGltZW91dCIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJ1bmRlZmluZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../pkgs/natsu-port/websocket-client.ts\n");

/***/ }),

/***/ "../../pkgs/natsu-react/index.tsx":
/*!****************************************!*\
  !*** ../../pkgs/natsu-react/index.tsx ***!
  \****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createNatsuProvider\": () => (/* binding */ createNatsuProvider)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tanstack/react-query */ \"@tanstack/react-query\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_tanstack_react_query__WEBPACK_IMPORTED_MODULE_2__]);\n_tanstack_react_query__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nconst createNatsuProvider = ({ natsuClient , makeNatsuSocketClient , queryClient , queryClientConfig  })=>{\n    console.log(\">>>>>>>>>>>>>>>>>>>> should call once only\");\n    const natsuSocket =  false ? 0 : undefined;\n    const context = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1___default().createContext({\n        natsuClient,\n        natsuSocket\n    });\n    const QueryClientProviderWrapper = ({ children  })=>{\n        return queryClient ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: children\n        }, void 0, false) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_tanstack_react_query__WEBPACK_IMPORTED_MODULE_2__.QueryClientProvider, {\n            client: new _tanstack_react_query__WEBPACK_IMPORTED_MODULE_2__.QueryClient(queryClientConfig),\n            children: children\n        }, void 0, false, {\n            fileName: \"/home/lagz0ne/natsu-2/pkgs/natsu-react/index.tsx\",\n            lineNumber: 43,\n            columnNumber: 9\n        }, undefined);\n    };\n    const NatsuProvider = (props)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(QueryClientProviderWrapper, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(context.Provider, {\n                value: {\n                    natsuClient,\n                    natsuSocket\n                },\n                children: props.children\n            }, void 0, false, {\n                fileName: \"/home/lagz0ne/natsu-2/pkgs/natsu-react/index.tsx\",\n                lineNumber: 50,\n                columnNumber: 7\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/home/lagz0ne/natsu-2/pkgs/natsu-react/index.tsx\",\n            lineNumber: 49,\n            columnNumber: 5\n        }, undefined);\n    const useNatsuClient = ()=>{\n        const { natsuClient  } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(context);\n        return natsuClient;\n    };\n    const useNatsuSocket = ()=>{\n        const { natsuSocket  } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(context);\n        return natsuSocket;\n    };\n    function useSubscribe(address, handler) {\n        const natsuSocket = useNatsuSocket();\n        (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n            const subscriber = natsuSocket?.subscribe(address, handler);\n            return ()=>{\n                subscriber.then((unsub)=>unsub.unsubscribe());\n            };\n        }, [\n            address\n        ]);\n    }\n    const _useQuery = (address, data, queryOpts)=>{\n        const natsuClient = useNatsuClient();\n        const queryFn = async ()=>natsuClient(address, data);\n        return (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_2__.useQuery)([\n            address,\n            data\n        ], queryFn, queryOpts);\n    };\n    const _useMutation = (address, data, dependencies = [], mutationOpts)=>{\n        const natsuClient = useNatsuClient();\n        const queryFn = async ()=>natsuClient(address, data);\n        return (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_2__.useMutation)([\n            address,\n            data,\n            ...dependencies\n        ], queryFn, mutationOpts);\n    };\n    return {\n        NatsuProvider,\n        useNatsuClient,\n        useQuery: _useQuery,\n        useMutation: _useMutation,\n        useSubscribe\n    };\n};\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0lBQzdFLENBQUM7SUFFRCxPQUFPO1FBQ0xwQixhQUFhO1FBQ2JJLGNBQWM7UUFDZHRCLFFBQVEsRUFBRWdDLFNBQVM7UUFDbkI3QixXQUFXLEVBQUVpQyxZQUFZO1FBQ3pCWixZQUFZO0tBQ2IsQ0FBQztBQUNKLENBQUM7QUFFOEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi4vLi4vcGtncy9uYXRzdS1yZWFjdC9pbmRleC50c3g/NWFkNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgdHlwZSB7IENsaWVudCwgTmF0c3VTb2NrZXQgfSBmcm9tICdAc2lsZW50ZWVyL25hdHN1LXBvcnQtMic7XG5pbXBvcnQgdHlwZSB7XG4gIE5hdHNDaGFubmVsLFxuICBOYXRzUG9ydFdTUmVzcG9uc2UsXG4gIE5hdHNTZXJ2aWNlLFxufSBmcm9tICdAc2lsZW50ZWVyL25hdHN1LXR5cGUnO1xuXG5pbXBvcnQgeyB1c2VRdWVyeSwgUXVlcnlDbGllbnQsIFF1ZXJ5Q2xpZW50UHJvdmlkZXIsIFVzZVF1ZXJ5T3B0aW9ucywgdXNlTXV0YXRpb24sIFVzZU11dGF0aW9uT3B0aW9ucywgUXVlcnlDbGllbnRDb25maWcgfSBmcm9tIFwiQHRhbnN0YWNrL3JlYWN0LXF1ZXJ5XCJcblxuZXhwb3J0IHR5cGUgTmF0c3VPcHRpb25zPFxuICBBIGV4dGVuZHMgTmF0c1NlcnZpY2U8c3RyaW5nLCB1bmtub3duLCB1bmtub3duPixcbiAgQiBleHRlbmRzIE5hdHNDaGFubmVsPHN0cmluZywgdW5rbm93biwgdW5rbm93bj5cbj4gPSB7XG4gIG5hdHN1Q2xpZW50OiBDbGllbnQ8QT47XG4gIG1ha2VOYXRzdVNvY2tldENsaWVudD86ICgpID0+IE5hdHN1U29ja2V0PEI+O1xuICBxdWVyeUNsaWVudD86IFF1ZXJ5Q2xpZW50LFxuICBxdWVyeUNsaWVudENvbmZpZz86IFF1ZXJ5Q2xpZW50Q29uZmlnIFxufTtcblxuY29uc3QgY3JlYXRlTmF0c3VQcm92aWRlciA9IDxcbiAgQSBleHRlbmRzIE5hdHNTZXJ2aWNlPHN0cmluZywgdW5rbm93biwgdW5rbm93bj4sXG4gIEIgZXh0ZW5kcyBOYXRzQ2hhbm5lbDxzdHJpbmcsIHVua25vd24sIHVua25vd24+XG4+KHtcbiAgbmF0c3VDbGllbnQsXG4gIG1ha2VOYXRzdVNvY2tldENsaWVudCxcbiAgcXVlcnlDbGllbnQsXG4gIHF1ZXJ5Q2xpZW50Q29uZmlnXG59OiBOYXRzdU9wdGlvbnM8QSwgQj4pID0+IHtcbiAgY29uc29sZS5sb2coXCI+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+PiBzaG91bGQgY2FsbCBvbmNlIG9ubHlcIilcbiAgY29uc3QgbmF0c3VTb2NrZXQgPVxuICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gbWFrZU5hdHN1U29ja2V0Q2xpZW50Py4oKSA6IHVuZGVmaW5lZDtcblxuICBjb25zdCBjb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dCh7XG4gICAgbmF0c3VDbGllbnQsXG4gICAgbmF0c3VTb2NrZXQsXG4gIH0pO1xuXG4gIGNvbnN0IFF1ZXJ5Q2xpZW50UHJvdmlkZXJXcmFwcGVyID0gKHsgY2hpbGRyZW4gfSkgPT4ge1xuICAgIHJldHVybiBxdWVyeUNsaWVudFxuICAgICAgPyA8PntjaGlsZHJlbn08Lz5cbiAgICAgIDogPFF1ZXJ5Q2xpZW50UHJvdmlkZXIgY2xpZW50PXtuZXcgUXVlcnlDbGllbnQocXVlcnlDbGllbnRDb25maWcpfT5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9RdWVyeUNsaWVudFByb3ZpZGVyPlxuICB9XG5cbiAgY29uc3QgTmF0c3VQcm92aWRlciA9IChwcm9wczogUmVhY3QuUHJvcHNXaXRoQ2hpbGRyZW48e30+KSA9PiAoXG4gICAgPFF1ZXJ5Q2xpZW50UHJvdmlkZXJXcmFwcGVyPlxuICAgICAgPGNvbnRleHQuUHJvdmlkZXJcbiAgICAgICAgdmFsdWU9e3tcbiAgICAgICAgICBuYXRzdUNsaWVudCxcbiAgICAgICAgICBuYXRzdVNvY2tldCxcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAge3Byb3BzLmNoaWxkcmVufVxuICAgICAgPC9jb250ZXh0LlByb3ZpZGVyPlxuICAgIDwvUXVlcnlDbGllbnRQcm92aWRlcldyYXBwZXI+XG4gICk7XG5cbiAgY29uc3QgdXNlTmF0c3VDbGllbnQgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBuYXRzdUNsaWVudCB9ID0gdXNlQ29udGV4dChjb250ZXh0KTtcbiAgICByZXR1cm4gbmF0c3VDbGllbnQ7XG4gIH07XG5cbiAgY29uc3QgdXNlTmF0c3VTb2NrZXQgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBuYXRzdVNvY2tldCB9ID0gdXNlQ29udGV4dChjb250ZXh0KTtcbiAgICByZXR1cm4gbmF0c3VTb2NrZXQ7XG4gIH07XG5cbiAgZnVuY3Rpb24gdXNlU3Vic2NyaWJlPFN1YmplY3QgZXh0ZW5kcyBCWydzdWJqZWN0J10+KFxuICAgIGFkZHJlc3M6IFN1YmplY3QsXG4gICAgaGFuZGxlcjogKFxuICAgICAgcmVzcG9uc2U6IE5hdHNQb3J0V1NSZXNwb25zZTxcbiAgICAgICAgU3ViamVjdCxcbiAgICAgICAgRXh0cmFjdDxCLCB7IHN1YmplY3Q6IFN1YmplY3QgfT5bJ3Jlc3BvbnNlJ11cbiAgICAgID5cbiAgICApID0+IFByb21pc2U8dm9pZD5cbiAgKSB7XG4gICAgY29uc3QgbmF0c3VTb2NrZXQgPSB1c2VOYXRzdVNvY2tldCgpO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGNvbnN0IHN1YnNjcmliZXIgPSBuYXRzdVNvY2tldD8uc3Vic2NyaWJlKGFkZHJlc3MsIGhhbmRsZXIpO1xuXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBzdWJzY3JpYmVyLnRoZW4odW5zdWIgPT4gdW5zdWIudW5zdWJzY3JpYmUoKSlcbiAgICAgIH07XG4gICAgfSwgW2FkZHJlc3NdKTtcbiAgfVxuXG4gIGNvbnN0IF91c2VRdWVyeSA9IDxTdWJqZWN0IGV4dGVuZHMgQVsnc3ViamVjdCddPihcbiAgICBhZGRyZXNzOiBTdWJqZWN0LFxuICAgIGRhdGE/OiBFeHRyYWN0PEEsIHsgc3ViamVjdDogU3ViamVjdCB9PlsncmVxdWVzdCddLFxuICAgIHF1ZXJ5T3B0cz86IFVzZVF1ZXJ5T3B0aW9uc1xuICApID0+IHtcbiAgICBjb25zdCBuYXRzdUNsaWVudCA9IHVzZU5hdHN1Q2xpZW50KCk7XG4gICAgY29uc3QgcXVlcnlGbiA9IGFzeW5jICgpID0+IG5hdHN1Q2xpZW50KGFkZHJlc3MsIGRhdGEpXG5cbiAgICByZXR1cm4gdXNlUXVlcnkoW2FkZHJlc3MsIGRhdGFdLCBxdWVyeUZuLCBxdWVyeU9wdHMpXG4gIH07XG5cbiAgY29uc3QgX3VzZU11dGF0aW9uID0gPFN1YmplY3QgZXh0ZW5kcyBBWydzdWJqZWN0J10+KFxuICAgIGFkZHJlc3M6IFN1YmplY3QsXG4gICAgZGF0YT86IEV4dHJhY3Q8QSwgeyBzdWJqZWN0OiBTdWJqZWN0IH0+WydyZXF1ZXN0J10sXG4gICAgZGVwZW5kZW5jaWVzOiBbXSA9IFtdLFxuICAgIG11dGF0aW9uT3B0cz86IFVzZU11dGF0aW9uT3B0aW9uc1xuICApID0+IHtcbiAgICBjb25zdCBuYXRzdUNsaWVudCA9IHVzZU5hdHN1Q2xpZW50KCk7XG4gICAgY29uc3QgcXVlcnlGbiA9IGFzeW5jICgpID0+IG5hdHN1Q2xpZW50KGFkZHJlc3MsIGRhdGEpXG5cbiAgICByZXR1cm4gdXNlTXV0YXRpb24oW2FkZHJlc3MsIGRhdGEsIC4uLmRlcGVuZGVuY2llc10sIHF1ZXJ5Rm4sIG11dGF0aW9uT3B0cylcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIE5hdHN1UHJvdmlkZXIsXG4gICAgdXNlTmF0c3VDbGllbnQsXG4gICAgdXNlUXVlcnk6IF91c2VRdWVyeSxcbiAgICB1c2VNdXRhdGlvbjogX3VzZU11dGF0aW9uLFxuICAgIHVzZVN1YnNjcmliZSxcbiAgfTtcbn07XG5cbmV4cG9ydCB7IGNyZWF0ZU5hdHN1UHJvdmlkZXIgfTtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZUNvbnRleHQiLCJ1c2VFZmZlY3QiLCJ1c2VRdWVyeSIsIlF1ZXJ5Q2xpZW50IiwiUXVlcnlDbGllbnRQcm92aWRlciIsInVzZU11dGF0aW9uIiwiY3JlYXRlTmF0c3VQcm92aWRlciIsIm5hdHN1Q2xpZW50IiwibWFrZU5hdHN1U29ja2V0Q2xpZW50IiwicXVlcnlDbGllbnQiLCJxdWVyeUNsaWVudENvbmZpZyIsImNvbnNvbGUiLCJsb2ciLCJuYXRzdVNvY2tldCIsInVuZGVmaW5lZCIsImNvbnRleHQiLCJjcmVhdGVDb250ZXh0IiwiUXVlcnlDbGllbnRQcm92aWRlcldyYXBwZXIiLCJjaGlsZHJlbiIsImNsaWVudCIsIk5hdHN1UHJvdmlkZXIiLCJwcm9wcyIsIlByb3ZpZGVyIiwidmFsdWUiLCJ1c2VOYXRzdUNsaWVudCIsInVzZU5hdHN1U29ja2V0IiwidXNlU3Vic2NyaWJlIiwiYWRkcmVzcyIsImhhbmRsZXIiLCJzdWJzY3JpYmVyIiwic3Vic2NyaWJlIiwidGhlbiIsInVuc3ViIiwidW5zdWJzY3JpYmUiLCJfdXNlUXVlcnkiLCJkYXRhIiwicXVlcnlPcHRzIiwicXVlcnlGbiIsIl91c2VNdXRhdGlvbiIsImRlcGVuZGVuY2llcyIsIm11dGF0aW9uT3B0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../pkgs/natsu-react/index.tsx\n");

/***/ }),

/***/ "isomorphic-ws":
/*!********************************!*\
  !*** external "isomorphic-ws" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("isomorphic-ws");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

module.exports = require("react");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "@tanstack/react-query":
/*!****************************************!*\
  !*** external "@tanstack/react-query" ***!
  \****************************************/
/***/ ((module) => {

module.exports = import("@tanstack/react-query");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("./pages/index.tsx"));
module.exports = __webpack_exports__;

})();